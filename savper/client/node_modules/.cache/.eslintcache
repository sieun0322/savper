[{"C:\\Users\\lce95\\Desktop\\savper\\savper\\client\\src\\index.js":"1","C:\\Users\\lce95\\Desktop\\savper\\savper\\client\\src\\App.js":"2","C:\\Users\\lce95\\Desktop\\savper\\savper\\client\\src\\components\\UploadForm.js":"3","C:\\Users\\lce95\\Desktop\\savper\\savper\\client\\src\\components\\ProgressBar.js":"4","C:\\Users\\lce95\\Desktop\\savper\\savper\\client\\src\\components\\DocList.js":"5"},{"size":282,"mtime":1634830823053,"results":"6","hashOfConfig":"7"},{"size":500,"mtime":1635430367111,"results":"8","hashOfConfig":"7"},{"size":2497,"mtime":1635089943975,"results":"9","hashOfConfig":"7"},{"size":275,"mtime":1634917033475,"results":"10","hashOfConfig":"7"},{"size":549,"mtime":1635430747656,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"15914yj",{"filePath":"15","messages":"16","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"17","messages":"18","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"19","usedDeprecatedRules":"14"},{"filePath":"20","messages":"21","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"22","messages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\lce95\\Desktop\\savper\\savper\\client\\src\\index.js",[],["24","25"],"C:\\Users\\lce95\\Desktop\\savper\\savper\\client\\src\\App.js",[],"C:\\Users\\lce95\\Desktop\\savper\\savper\\client\\src\\components\\UploadForm.js",["26"],"import React,{ useState} from \"react\";\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"./UploadForm.css\";\r\nimport ProgressBar from \"./ProgressBar.js\";\r\nconst UploadForm =() =>{\r\n    const defaultFileName = \"이미지 파일을 업로드 해주세요\";\r\n    const [file, setFile] = useState(null);\r\n    const [docSrc, setDocSrc] = useState(null);\r\n    \r\n    const [fileName, setFileName] = useState(defaultFileName);\r\n    const [percent, setPercent] = useState(0);\r\n    const imageSelectHandler = (event) => {\r\n                const documentFile = event.target.files[0];\r\n                setFile(documentFile);\r\n                setFileName(documentFile.name);\r\n                const fileReader = new FileReader();\r\n                fileReader.readAsDataURL(documentFile);\r\n                fileReader.onload = e => setDocSrc(e.target.result);\r\n            };\r\n    const onSubmit = async (e) =>{\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append(\"doc\",file)\r\n        try{\r\n            const res = await axios.post(\"/docs\",formData,{\r\n                headers:{\"Content-Type\":\"multipart/form-data\"}\r\n                ,onUploadProgress:(e) =>{\r\n                  setPercent(Math.round((100*e.loaded)/e.total));\r\n                }\r\n              });\r\n            console.log({res});\r\n            toast.success(\"파일 업로드 성공\");\r\n            setTimeout(()=>{\r\n              setPercent(0);\r\n              setFileName(defaultFileName);\r\n              setDocSrc(null);\r\n            },3000);\r\n        }catch(err){\r\n            toast.error(err.message);\r\n            setPercent(0);\r\n            setFileName(defaultFileName);\r\n            setDocSrc(null);\r\n            console.error(err);\r\n        }\r\n    };      \r\n    return (\r\n      <div>\r\n        <form onSubmit={onSubmit}>\r\n          <img src={docSrc} className ={`image-preview ${docSrc && \"image-preview-show\"}`}/>\r\n          <ProgressBar percent ={percent}/>\r\n          <div className=\"file-dropper\">\r\n            {fileName}\r\n            <input id=\"file\" type=\"file\" accept=\"image/*, jpg\" onChange={imageSelectHandler} />\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            style={{\r\n              width: \"100%\",\r\n              height: 40,\r\n              borderRadius: 3,\r\n              cursor: \"pointer\"\r\n            }}\r\n          >\r\n            제출\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n};\r\nexport default UploadForm;","C:\\Users\\lce95\\Desktop\\savper\\savper\\client\\src\\components\\ProgressBar.js",[],"C:\\Users\\lce95\\Desktop\\savper\\savper\\client\\src\\components\\DocList.js",["27"],{"ruleId":"28","replacedBy":"29"},{"ruleId":"30","replacedBy":"31"},{"ruleId":"32","severity":1,"message":"33","line":50,"column":11,"nodeType":"34","endLine":50,"endColumn":93},{"ruleId":"32","severity":1,"message":"33","line":12,"column":3,"nodeType":"34","endLine":14,"endColumn":53},"no-native-reassign",["35"],"no-negated-in-lhs",["36"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-global-assign","no-unsafe-negation"]